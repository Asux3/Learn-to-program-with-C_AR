\chapter{الجداول}
هذا الدرس هو ملحق مباشر للدرس المتعلق بالمؤشرات، و سيعلّمك أهميتها أكثر. إن كنت تعتقد بأنك قادر على تفادي المؤشرات فأنت مخطئ ! هي في كلّ مكان في لغة الـ\textenglish{C}. لقد حذّرتك !

سنتعلم في هذا الدرس كيف ننشئ متغيرات من نوع "جداول". الجدوال مهمّة للغاية في لغة الـ\textenglish{C} لأنها تساعد في تنظيم سلسلة من القيم.

نبدأ هذا الدرس ببعض الشروحات و التفسيرات حول كيفية عمل الجداول في الذاكرة (سأقدم لك الكثير من المخططات التفسيرية). هذه المقدمات حول الذاكرة مهمة جداً : ستساعدك في في معرفة عمل الجداول. فمن المستحسن أن يعرف المبرمج ما يقوم به كي يتحكم في برامجه أكثر، أليس كذلك ؟

\section{الجداول في الذاكرة}
\textit{"الجداول هي تتابع متغيرات من نفس النوع، موجودة في مكان متواصل من الذاكرة."}

أعرف أن هذا التعريف يشبه قليلا تعريف القاموس. لهذا فسأوضح بطريقة أخرى، فعلياّّ، الجدول عبارة عن "متغيّرات ضخمة" يمكن لها أن تحتوي على أعداد كبيرة من نفس النوع
(\InlineCode{char}،
\InlineCode{long}،
\InlineCode{int}،
\InlineCode{double}...).

للجدول طول محدد. يمكنه أن يكون 2، 3، 10 خانات، 150، 2500 خانة، أنت من يحدد العدد. المخطط التالي مثال عن جدول يحجز 4 خانات بدءاً بالعنوان 1600 :
\Picture{Chapter_II-3_Array-Adresses}
عندما تطلب إنشاء جدول يحجز 4 خانات في الذاكرة، سيطلب برنامجك من نظام التشغيل أن يسمح له باستغلال 4 خانات في الذاكرة، و يجب ان تكون هذه الخانات متتالية يعني الواحدة بجانب الأخرى. و كما ترى أعلاه فالخانات متتابعة 1600, 1601, 1602, 1603 فلا يوجد "فراغ" بينها.

أخيراً، كل خانة تحتوي عددا من نفس النوع. فإن كان الجدول من نوع
\InlineCode{int}
فإن كلّ خانة يجب أن تحتوي عددا من نوع
\InlineCode{int}.
و بهذا نفهم أنه لا يمكننا وضع نوع
\InlineCode{int}
مع
\InlineCode{double}
في الجدول نفسه.

و كتلخيص، هذا أهم ما يجب أن تعرفه بخصوص الجداول :
\begin{itemize}
  \item عندما يتم إنشاء جدول، يأخذ مكانا متواصلاً في الذاكرة. بحيث تكون الخانات متجاورة الواحدة تلو الأخرى.
  \item كل خانات الجدول تكون من نفس النوع، فجدول
الـ\InlineCode{int}
يمكن أن يحمل فقط
\InlineCode{int}،
و لا أي نوع آخر.
\end{itemize}

\section{تعريف جدول}
كي نبدأ سننشئ جدولا من 4 أعداد من نوع
\InlineCode{int} :
\begin{Csource}
int table[4];
\end{Csource}
هذا كلّ شيء. يكفي إذن أن تضيف قوسين مربعين
(\InlineCode{[}
و
\InlineCode{]})
عدد الخانات التي تريد أن يحجزها جدولك، و اعلموا أنه لا يوجد حدود (إلا إن تجاوزت الحدّ الذي تسمح به ذاكرة جهازك طبعا).

و لكن الآن، كيف نصل لخانة ما في الجدول ؟
هذا سهل، تكفي كتابة
\InlineCode{table[cellNumber]}.
\begin{critical}
  إحذر : كل جدول يجب أن يبدأ بالفهرس رقم 0 ! جدولنا متكوّن من 4
\InlineCode{int}
إذن فالفهارس المتوفرة هي : 0، 1، 2 و 3. لا وجود للفهرس 4 في جدول من 4 خانات ! هذا مصدر أخطاء متداولة، فلا تغفل عنه !
\end{critical}
إذا كنت أريد أن أضع في جدولي نفس القيم التي في المخطط فبجب إذا أن أكتُب :
\begin{Csource}
int table[4];
table[0] = 10;
table[1] = 23;
table[2] = 505;
table[3] = 8;
\end{Csource}
\begin{question}
  لازلت لا أرى العلاقة بين المؤشرات و الجداول ؟
\end{question}
في الواقع، لو تكتب فقط
\InlineCode{table}
فستحصل على مؤشر، و هو مؤشر على الخانة الأولى من الجدول، قم باختبار التالي :
\begin{Csource}
int table[4];
printf("%d", table);
\end{Csource}
النتيجة ستظهر لك العنوان الذي يتواجد به
\InlineCode{table} :
\begin{Console}
1600
\end{Console}
بينما إذا قمت بوضع فهرس الخانة بين قوسين مربعين، فستحصل على القيمة :
\begin{Csource}
int table[4];
printf("%d", table[0]);
\end{Csource}
\begin{Console}
10
\end{Console}
نفس الشيء بالنسبة للفهارس الأخرى. بما أن
\InlineCode{table}
هو مؤشر، يمكننا استعمال الرمز
\InlineCode{*}
للحصول على القيمة الأولى :
\begin{Csource}
int table[4];
printf("%d", *table);
\end{Csource}
\begin{Console}
10
\end{Console}
يمكن أيضا الحصول على قيمة الخانة الثانية بكتابة
\InlineCode{*(table + 1)}
(أي عنوان الجدول + 1). لذا فهذان السطران متماثلان :
\begin{Csource}
table[1] // Returns the value of the second cell (the first is 0)
*(table + 1) // Same thing : returns the value of the second cell.
\end{Csource}
لذا فعند كتابة
\InlineCode{table[0]}،
فأنت تطلب قيمة الخانة التي تتواجد بعنوان الجدول + 0
خانة، أي 1600.\\
و إذا كتبت
\InlineCode{table[1]}
فإنك تطلب القيمة المتواجدة في عنوان الجدول + 1
خانة، أي 1601.\\
و هكذا من أجل الباقي.
